# YM2413 durations outputs

This directory contains CSVs generated by the durations extractor:

- Source: `tools/ym2413_extract_durations.py`
- Input: `tests/equiv/inputs/ir/*_log.opll.csv` or typed `*_timeline_YM2413.csv`
- Output: `*_durations.csv`

Columns (subset):
- `t_on_s`, `t_off_s`, `dur_s`: note on/off and duration (seconds)
- `t_next_on_s`, `interval_to_next_on_s`, `dur_to_next_on_ratio`: next-on distance and gate ratio
- `blk_on`, `fnum_on`, `fnumL_on`: YM2413 pitch at note-on
- `dt_a0_before_on_s`, `dt_a0_after_on_s` + flags: proximity of A0 writes around KO=1
- `dt_iv_before_on_s`, `dt_iv_after_on_s` + flags: proximity of IV writes around KO=1
- `close_reason`: usually `ko_off` (explicit KO=0 seen)

Generation example:
```sh
python tools/ym2413_extract_durations.py \
  --input tests/equiv/inputs/ir/ym2413_scale_chromatic_timeline_YM2413.csv \
  --channel 0 \
  --window 0.017 \
  --output tests/equiv/outputs/ir/
```

Summary (optional):
```sh
python scripts/ym2413_summarize_durations.py \
  --glob "tests/equiv/outputs/ir/*_durations.csv" \
  --out tests/equiv/outputs/ir/_summary/ym2413_durations_summary.csv
```